<ion-header bea-pb-theme>
    <ion-navbar class="header" no-border>
        <button ion-button menuToggle>
            <bea-icon name="menu" aria-hidden="true"></bea-icon>
        </button>
        <ion-title>My Portfolio</ion-title>
    </ion-navbar>

</ion-header>


<ion-content bea-pb-theme class="pure-background" padding>

    <pd-amount [info]="totalAmountInfo"></pd-amount>

    <div align="center">

        <div class="doughnut-container">
            <div class="donut-inner">
                <div>
                    <div class="period">Monthly</div>
                    <div class="diff">
                        <ion-icon class="up" name="md-arrow-dropup" *ngIf="monthlyDiff > 0"></ion-icon>
                        <ion-icon class="down" name="md-arrow-dropdown" *ngIf="monthlyDiff < 0"></ion-icon>
                        {{ monthlyDiff | beaNumber }}%
                    </div>
                    <div class="period">6 Months</div>
                    <div class="diff">
                        <ion-icon class="up" name="md-arrow-dropup" *ngIf="sixMonthDiff > 0"></ion-icon>
                        <ion-icon class="down" name="md-arrow-dropdown" *ngIf="sixMonthDiff < 0"></ion-icon>
                        {{ sixMonthDiff | beaNumber }}%
                    </div>
                </div>
            </div>
            <canvas #doughnutCanvas></canvas>
        </div>

        <div class="doughnut-legend-container">

            <!-- <div *ngFor="let number of [1,2,3,4,5,6]"> -->
            <div *ngFor="let data of myPortfolioData.holdingDataList">
                <div class="doughnut-legend">
                    <div class="donut-legend-inner">
                        <div>
                            <div class="diff">{{ data.percentage | beaNumber }}%</div>
                        </div>
                    </div>
                    <canvas #doughnutLegendCanvas></canvas>
                </div>
                <div class="donut-legend-bottom">
                    <div>
                        <div>{{ data.title }}</div>
                    </div>
                </div>
            </div>


        </div>

    </div>

    <div listContent>
        <!-- Button -->
        <div class="button-container">
            <div (click)="goToPage('history')">
                <div>
                    Portfolio History
                </div>
                <div class="image">
                    <img src="assets/imgs/pb/icon-1.png">
                </div>
            </div>
            <div (click)="goToPage('currency')">
                <div>
                    Currency Distribution
                </div>
                <div class="image">
                    <img src="assets/imgs/pb/icon-2.png">
                </div>
            </div>
            <div (click)="goToPage('performance')">
                <div>
                    Performance
                </div>
                <div class="image">
                    <img src="assets/imgs/pb/icon-3.png">
                </div>
            </div>
        </div>

        <!-- Info of doughnut chart data-->
        <pb-list-item type="overview" [header]="beaListHeader" [data]="myPortfolioData.holdingDataList" [pureColor]="true">
        </pb-list-item>
    </div>

</ion-content>